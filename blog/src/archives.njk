---
layout: base.njk
title: Archives
pagination:
  data: collections.posts
  size: 10
  alias: posts
  reverse: false
permalink: "{% if pagination.pageNumber == 0 %}/archives/{% else %}/archives/page/{{ pagination.pageNumber + 1 }}/{% endif %}"
---
<section class="archives">
  <header class="archives-header">
    <h1 class="page-title">Archives</h1>
    <p class="archives-count">{{ collections.posts.length }} posts total</p>
  </header>

  <div class="posts-list">
    {% for post in posts %}
    <article class="post-card">
      <header class="post-card-header">
        <h3 class="post-card-title">
          <a href="{{ post.url }}">{{ post.data.title }}</a>
        </h3>
        <div class="post-card-meta">
          <time datetime="{{ post.date | dateISO }}">{{ post.date | dateDisplay }}</time>
          {% if post.data.categories and post.data.categories.length %}
          <span class="post-card-categories">
            {% for category in post.data.categories %}
              <a href="/categories/{{ category | slugify }}/">{{ category }}</a>{% if not loop.last %}, {% endif %}
            {% endfor %}
          </span>
          {% endif %}
        </div>
      </header>
      <p class="post-card-excerpt">
        {% if post.data.excerpt %}
          {{ post.data.excerpt }}
        {% else %}
          {{ post.templateContent | excerpt(200) }}
        {% endif %}
      </p>
      <a href="{{ post.url }}" class="post-card-link">Read more &rarr;</a>
    </article>
    {% endfor %}
  </div>

  {% if pagination.pages.length > 1 %}
  <nav class="pagination" aria-label="Pagination">
    <ul class="pagination-list">
      {% if pagination.href.previous %}
      <li class="pagination-item">
        <a href="{{ pagination.href.previous }}" class="pagination-link prev">
          &larr; Newer
        </a>
      </li>
      {% endif %}

      <li class="pagination-item pagination-info">
        Page {{ pagination.pageNumber + 1 }} of {{ pagination.pages.length }}
      </li>

      {% if pagination.href.next %}
      <li class="pagination-item">
        <a href="{{ pagination.href.next }}" class="pagination-link next">
          Older &rarr;
        </a>
      </li>
      {% endif %}
    </ul>
  </nav>
  {% endif %}
</section>
